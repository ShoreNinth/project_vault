@startuml
[*] --> 初始状态 : 系统启动
初始状态 --> 待认证 : 用户发起操作
待认证 --> 认证成功 : 验证通过
待认证 --> 认证失败 : 验证失败

认证成功 --> 操作就绪 : 准备就绪
操作就绪 --> 分片处理 : 执行Shamir算法
分片处理 --> 分片存储 : 完成分片
分片存储 --> [*] : 结束

认证失败 --> 锁定状态 : 连续失败5次
锁定状态 --> 待认证 : 管理员解锁


state 分片处理 {
  [*] --> 本地分片 : 生成本地副本
  [*] --> 云端分片 : 同步云存储
  [*] --> 物理分片 : 打印纸质备份
}
@enduml